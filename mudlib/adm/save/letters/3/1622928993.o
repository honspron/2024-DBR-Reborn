#/daemon/letter.c
__Letter "this is the working function:344 void incoming_mudlist_q(mapping info) { 345     string *bits;346     int i;347 348     if(geteuid(previous_object()) != UID_SOCKET) return;349     if(NETWORK_D->query_is_banned(info[\"NAME\"])) return;350     i = sizeof(bits = build_mudlist((mapping)NETWORK_D->query_known_muds()));351     seteuid(UID_SOCKET);352     while(i--){353         NETWORK_D->send_udp(info[\"HOSTADDRESS\"], info[\"PORTUDP\"],354         sprintf(\"356     seteuid(getuid());357 }358 359 void send_mudlist_q(string host, string port) {360     seteuid(UID_SOCKET);361     NETWORK_D->send_udp(host, port,362         sprintf(\"363     seteuid(getuid());364 }hope that helps.  the seteuid(getuid()); was inside the while loop so it didn't have the UID_SOCKET permissions after the first line which is empty anyway.  best,MacTORG************************************************MacTORG - Half Dwarf & DarkElf - Administrator%^RED%^%^BOLD%^Patron %^B_BLUE%^%^CYAN%^GOD%^RESET%^ of %^BOLD%^Dwarves%^RESET%^ & %^BOLD%^DarkElves%^RESET%^You can't really tell if he is a tall dwarf ora short drow.  but by the glow of his eyesand commanding voice, he isn't a person youwant to pick a fight with.************************************************ "
__Undeleted ({"exash",})
